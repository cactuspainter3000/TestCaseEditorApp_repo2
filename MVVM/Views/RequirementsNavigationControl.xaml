<UserControl x:Class="TestCaseEditorApp.MVVM.Views.RequirementsNavigationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" d:DesignHeight="80" d:DesignWidth="800">
    <Border Padding="6" Style="{StaticResource MenuSectionBorderStyle}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <Button Content="◀"
                        Width="28" Height="35"
                        Command="{Binding PreviousRequirementCommand}"
                        Style="{StaticResource MenuPopupButtonStyle}" />

                <Border Background="Transparent" Padding="6,0" VerticalAlignment="Center" Margin="6,0,6,0">
                    <TextBlock Foreground="White" VerticalAlignment="Center" FontSize="12">
                        <Run Text="{Binding RequirementsNav.RequirementPositionDisplay, Mode=OneWay}" />
                    </TextBlock>
                </Border>

                <Button Content="▶"
                        Width="28" Height="35"
                        Command="{Binding NextRequirementCommand}"
                        Style="{StaticResource MenuPopupButtonStyle}" />
            </StackPanel>

            <ComboBox Grid.Column="2"
                      Margin="8,0,8,0"
                      ItemsSource="{Binding Requirements}"
                      SelectedItem="{Binding SelectedRequirement, Mode=TwoWay}"
                      HorizontalAlignment="Stretch"
                      MaxWidth="420"
                      MinWidth="120"
                      Style="{StaticResource MenuPopupComboBoxStyle}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock>
                            <Run Text="{Binding Item}" /><Run Text=" — " /><Run Text="{Binding Name}" />
                        </TextBlock>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <TextBox Grid.Column="3"
                     Margin="0,0,8,0"
                     VerticalAlignment="Center"
                     Text="{Binding SearchQuery, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     MaxWidth="240"
                     MinWidth="80"
                     Style="{StaticResource MenuPopupTextBoxStyle}" />

            <Button Grid.Column="4"
                    Content="Search"
                    Padding="6,2"
                    Command="{Binding SearchCommand}"
                    Style="{StaticResource MenuPopupButtonStyle}" />
        </Grid>
    </Border>
</UserControl>
