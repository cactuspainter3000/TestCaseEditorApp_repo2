<UserControl x:Class="TestCaseEditorApp.Controls.DropDownButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MinWidth="20" MinHeight="20">
    <Grid>
        <!-- Visible button (chevron) -->
        <Button x:Name="PART_Button"
            Width="20" Height="20"
            Padding="0"
            Background="Transparent"
            BorderThickness="0"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Focusable="False"
            Click="PART_Button_Click">
            <Viewbox Width="12" Height="12" Stretch="Uniform">
                <Canvas Width="12" Height="12">
                    <Path Data="M2,5 L6,9 L10,5"
                Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=UserControl}}"
                StrokeThickness="2"
                StrokeStartLineCap="Round"
                StrokeEndLineCap="Round"
                StrokeLineJoin="Round" />
                </Canvas>
            </Viewbox>

            <!-- ContextMenu alternative to Popup -->
            <Button.ContextMenu>
                <ContextMenu x:Name="PART_ContextMenu">
                    <!-- Put your menu items here (simple for diagnostic). Later bind Command="{Binding ...}" once stable -->
                    <MenuItem Header="Import New Requirements…" />
                    <MenuItem Header="Load Workspace…" />
                    <Separator />
                    <MenuItem Header="Help" />
                </ContextMenu>
            </Button.ContextMenu>
        </Button>
    </Grid>
</UserControl>